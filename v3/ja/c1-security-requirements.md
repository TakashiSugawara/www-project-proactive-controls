---

layout: col-document
tags: OWASP Top Ten Proactive Controls 2018, C1
document: OWASP Top Ten Proactive Controls 2018
order: 5

---

# C1: セキュリティ要件の定義

## 概要

セキュリティ要件とは、多くの異なるセキュリティ属性のうち一つを満たす保証のために必要なセキュリティ機能についての記述です。セキュリティ要件は業界標準、適用される法律、過去の脆弱性の歴史から作られました。セキュリティ要件は、特定のセキュリティ課題の解決や潜在的な脆弱性の排除のための、新機能や追加機能を定めます。

セキュリティ要件は、アプリケーションの検証済みセキュリティ機能のための基礎となります。全てのアプリケーションに個別の対策を講じるのではなく標準的なセキュリティ要件を使用することで、開発者はセキュリティ対策とベストプラクティスの定義を再利用できます。等しく吟味されたセキュリティ要件は過去に発生したセキュリティ問題の解決策となります。これらの要件は過去のセキュリティ上の失敗を繰り返さない為にあります。

### The OWASP ASVS

[The OWASP アプリケーションセキュリティ検証基準 (ASVS)](https://www.owasp.org/index.php/Category:OWASP_Application_Security_Verification_Standard_Project)は、利用可能なセキュリティ要件と検証基準のカタログです。OWASP ASVSは開発チームにとって詳細なセキュリティ要件の情報源になります。

セキュリティ要件は、高次に順序づけられたセキュリティ機能に基づいて分類されています。例えば、ASVSには認証、アクセス制御、エラー処理/ロギング、Webサービスなどのカテゴリーがあります。
各カテゴリーは、要件の検証となる命令文として起された当該カテゴリーのベストプラクティスの集合を含んでいます。

### ユーザーストーリーと誤用事例から要件を拡張する

ASVSの要件はその検証となる命令文の基礎であり、ユーザーストーリや誤用事例を基に拡張が可能です。ユーザーストーリーや誤用事例の利点は、システムがユーザーになにをするかではなく、ユーザーや攻撃者がシステムに何をするかが正確にアプリケーションと結びついていることです。

ここでASVS 3.0.1の要件を拡張する例をあげます。ASVS 3.0.1の"認証の検証要件"項の、要件2.19ではデフォルトパスワードに焦点を当てています。

> 2.19 フレームワークやその他コンポーネントのデフォルトパスワード(例えば"admin/password")がアプリケーションにない事を確認しなさい。

この要件にはデフォルトパスワードが存在しないことを確認するアクションと、アプリケーションでデフォルトパスワードを使用しないガイダンス、を共に含んでいます。

ユーザーストーリーは、システムのユーザー、管理者、攻撃者からの視点に注目し、ユーザーがシステムに何をして欲しいかに基づいて機能を説明します。ユーザーストーリーは「ユーザーは、xと、y、zを行えます」という形をとります。

    ユーザーは、ユーザー名とパスワードを入力して、アプリケーションにアクセスできます。
    ユーザーは、最大1023文字の長いパスワードを設定できます。

攻撃者とその行動に注目した場合、誤用事例とよびます。

    攻撃者は、デフォルトユーザー名とパスワードを入力して、アプリケーションにアクセスできます。

このストーリーは従来のASVSに記された要件を含んでおり、ユーザーや攻撃者の詳細の追加によってよりテストしやすい形になっています。

## 実装

セキュリティ要件の上手い使い方には、4段階あります。この手法とは発見・選択・文書化・実装であり、新しいセキュリティ概念や機能がアプリケーション内で正しく実装されているかの確認となります。

### 発見・選択

この手法は、セキュリティ要件の発見と選択から始まります。この段階では、開発者はASVSの様な標準的情報源からセキュリティ要件を理解し、特定のアプリケーションリリースに盛り込む要件を選択します。発見と選択における重要な点は、リリースやスプリントではセキュリティ要件を管理できる数のみ選択し、それを各スプリント繰り返し、時間を掛けてより多くのセキュリティ機能を追加することです。

### 調査・文書化

調査と文書化の段階では、開発者は新たなセキュリティ要件のセットに対しアプリケーションが要件を満足するか、あるいは何らかの開発が必要かを判断するために、既存アプリケーションをレビューをします。この調査はレビュー結果の文書として結実します。

### 実装・試験

開発の必要性が決定された後、開発者は新機能の追加や安全でないオプションの削除のために、何らかの方法でアプリケーションを修正しなくてはなりません。この段階では開発者は最初に要件に対応するための必要な設計をし、要件を満足するコード変更を終わらせます。新機能の追加や安全でないオプションの削除を確認するために、テストケースを作りましょう。

## 本対策で防げる脆弱性

セキュリティ要件はアプリケーションのセキュリティ機能を定めます。アプリケーションのライフサイクルの初めからよりよいセキュリティを組み込めば、多くの種類の脆弱性を防ぐ事につながります。

## 参考

* [OWASP Application Security Verification Standard (ASVS)](https://www.owasp.org/index.php/Category:OWASP_Application_Security_Verification_Standard_Project)
* [OWASP Mobile Application Security Verification Standard (MASVS)](https://github.com/OWASP/owasp-masvs)
* [OWASP Top Ten](https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project)
